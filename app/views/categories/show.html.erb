<% content_for :title, "Category Details" %>
<div class="max-w-4xl w-full mx-auto mt-12 bg-white shadow-xl rounded-3xl p-10">
  <!-- Notification -->
  <% if notice.present? %>
    <p class="py-3 px-5 bg-green-50 border-l-4 border-green-500 text-green-700 rounded-lg mb-8" id="notice">
      <%= notice %>
    </p>
  <% end %>
  <!-- Category Header -->
  <div class="flex items-center justify-between mb-6">
    <h1 class="text-4xl font-extrabold text-gray-900">Category Details</h1>
    <div class="flex items-center space-x-4">
      <span class="px-4 py-1 text-sm font-semibold text-blue-600 bg-blue-100 rounded-full">
        <%= link_to "Back to Categories", categories_path %>
      </span>
      <span class="px-4 py-1 text-sm font-semibold text-blue-600 bg-blue-100 rounded-full">
        <%= pluralize(@category.posts.count, "Post") %>
      </span>
    </div>
  </div>
  <!-- Category Information -->
  <div class="mb-6">
    <h2 class="text-lg font-semibold text-gray-700 tracking-wider">
      <span class="uppercase">Category Name:</span>
      <span class="mt-2 text-2xl font-bold text-blue-700"><%= @category.name %></span>
    </h2>
  </div>
  <!-- Related Posts Section -->
  <% if @category.posts.any? %>
    <div class="mt-8">
      <h2 class="text-2xl font-semibold text-gray-800 mb-4">Posts in this Category:</h2>
      <ul class="space-y-6">
        <% @category.posts.each do |post| %>
          <li class="p-6 bg-gray-50 rounded-xl shadow-sm hover:shadow-md transition">
            <h3 class="text-xl font-bold text-blue-700">
              <%= link_to post.title, post_path(post), class: "hover:underline" %>
            </h3>
            <p class="text-gray-600 mt-2"><%= truncate(post.body, length: 150) %></p>
            <p class="mt-4 text-sm text-gray-500">By <%= post.user.username %> â€¢ <%= time_ago_in_words(post.created_at) %> ago</p>
          </li>
        <% end %>
      </ul>
    </div>
  <% else %>
    <p class="mt-12 text-gray-500 text-lg">No posts available in this category yet.</p>
  <% end %>
</div>
